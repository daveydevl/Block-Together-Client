local coords = {
	GW = {7, 6},
	GU = {6, 6},
	GT = {5, 6},
	GR = {4, 6},
	GQ = {3, 6},
	GP = {2, 6},
	GY = {8, 6},
	GG = {11, 5},
	GE = {10, 5},
	GD = {9, 5},
	GB = {8, 5},
	GA = {7, 5},
	GN = {1, 6},
	GM = {15, 5},
	GL = {14, 5},
	GI = {13, 5},
	GH = {12, 5},
	LB = {9, 8},
	LC = {10, 8},
	LA = {8, 8},
	TV = {7, 14},
	TW = {8, 14},
	TT = {6, 14},
	TR = {5, 14},
	LK = {12, 8},
	LI = {11, 8},
	LV = {2, 9},
	TO = {4, 14},
	LT = {15, 8},
	LU = {1, 9},
	LR = {13, 8},
	LS = {14, 8},
	TH = {14, 13},
	TG = {13, 13},
	TD = {12, 13},
	TC = {11, 13},
	LY = {3, 9},
	DO = {8, 4},
	DM = {7, 4},
	DJ = {5, 4},
	DK = {6, 4},
	DE = {4, 4},
	YE = {8, 15},
	DZ = {9, 4},
	UY = {13, 14},
	VU = {6, 15},
	QA = {3, 12},
	TM = {2, 14},
	EH = {13, 4},
	EE = {11, 4},
	EG = {12, 4},
	ZA = {9, 15},
	EC = {10, 4},
	US = {12, 14},
	ET = {1, 5},
	ZW = {11, 15},
	ES = {15, 4},
	ER = {14, 4},
	RU = {7, 12},
	RW = {8, 12},
	RS = {6, 12},
	RE = {4, 12},
	IT = {7, 7},
	RO = {5, 12},
	TZ = {9, 14},
	BD = {3, 2},
	BE = {4, 2},
	BF = {5, 2},
	BG = {6, 2},
	VG = {3, 15},
	BA = {1, 2},
	BB = {2, 2},
	BM = {9, 2},
	BN = {10, 2},
	BO = {11, 2},
	BH = {7, 2},
	BJ = {8, 2},
	BT = {14, 2},
	JM = {9, 7},
	BW = {15, 2},
	WS = {7, 15},
	BR = {12, 2},
	BS = {13, 2},
	JE = {8, 7},
	BY = {1, 3},
	BZ = {2, 3},
	TN = {3, 14},
	OM = {5, 11},
	ZM = {10, 15},
	UA = {10, 14},
	JO = {10, 7},
	MZ = {9, 10},
	CK = {9, 3},
	CI = {8, 3},
	CH = {7, 3},
	CO = {13, 3},
	CN = {12, 3},
	CM = {11, 3},
	CL = {10, 3},
	CA = {3, 3},
	CG = {6, 3},
	CF = {5, 3},
	CD = {4, 3},
	CZ = {3, 4},
	CY = {2, 4},
	VC = {1, 15},
	CR = {14, 3},
	CV = {1, 4},
	CU = {15, 3},
	VE = {2, 15},
	PR = {13, 11},
	PS = {14, 11},
	PW = {1, 12},
	PT = {15, 11},
	PY = {2, 12},
	TL = {1, 14},
	IQ = {4, 7},
	PA = {6, 11},
	PF = {8, 11},
	PG = {9, 11},
	PE = {7, 11},
	PK = {11, 11},
	PH = {10, 11},
	PL = {12, 11},
	HR = {11, 6},
	HT = {12, 6},
	HU = {13, 6},
	HK = {9, 6},
	HN = {10, 6},
	VN = {5, 15},
	JP = {11, 7},
	ME = {7, 9},
	MD = {6, 9},
	MG = {8, 9},
	MA = {4, 9},
	MC = {5, 9},
	UZ = {14, 14},
	MM = {12, 9},
	ML = {11, 9},
	MO = {14, 9},
	MN = {13, 9},
	MH = {9, 9},
	MK = {10, 9},
	MU = {4, 10},
	MT = {3, 10},
	MW = {6, 10},
	MV = {5, 10},
	MQ = {15, 9},
	MS = {2, 10},
	MR = {1, 10},
	IM = {2, 7},
	UG = {11, 14},
	MY = {8, 10},
	MX = {7, 10},
	IL = {1, 7},
	VA = {15, 14},
	SA = {9, 12},
	AE = {2, 1},
	AD = {1, 1},
	AG = {4, 1},
	AF = {3, 1},
	AI = {5, 1},
	VI = {4, 15},
	IS = {6, 7},
	IR = {5, 7},
	AM = {7, 1},
	AL = {6, 1},
	AO = {9, 1},
	AN = {8, 1},
	AS = {11, 1},
	AR = {10, 1},
	AU = {13, 1},
	AT = {12, 1},
	AW = {14, 1},
	IN = {3, 7},
	AZ = {15, 1},
	IE = {15, 6},
	ID = {14, 6},
	NI = {14, 10},
	NL = {15, 10},
	NO = {1, 11},
	NA = {10, 10},
	NC = {11, 10},
	NE = {12, 10},
	NG = {13, 10},
	NZ = {4, 11},
	NP = {2, 11},
	SO = {5, 13},
	NR = {3, 11},
	FR = {6, 5},
	SV = {8, 13},
	SB = {10, 12},
	FI = {2, 5},
	FJ = {3, 5},
	FM = {4, 5},
	FO = {5, 5},
	TJ = {15, 13},
	SZ = {10, 13},
	SY = {9, 13},
	KG = {13, 7},
	KE = {12, 7},
	SR = {6, 13},
	KI = {15, 7},
	KH = {14, 7},
	KN = {2, 8},
	KM = {1, 8},
	ST = {7, 13},
	SK = {1, 13},
	KR = {4, 8},
	SI = {15, 12},
	KP = {3, 8},
	KW = {5, 8},
	SN = {4, 13},
	SM = {3, 13},
	SL = {2, 13},
	SC = {11, 12},
	KZ = {7, 8},
	KY = {6, 8},
	SG = {14, 12},
	SE = {13, 12},
	SD = {12, 12},
	ZZ = {4, 5}
}

local texture = Texture.new("images/flags.png")

function makeFlag(parent, code)
	local wrapper = Sprite.new()
	
	
	local bg = makeImage(wrapper, "flag_bg")
	bg:setPosition(2, 10)
	local map = TileMap.new(64, 64, texture, 64, 64)
	
	wrapper.setFlag = function(c)
		local coord
		
		if coords[c] == nil then
			coord = coords.ZZ
		else
			coord = coords[c]
		end
		
		map:setTile(1, 1, coord[1], coord[2])
	end
	
	wrapper:addChild(map)
	
	parent:addChild(wrapper)
	
	wrapper.setFlag(code)
	
	return wrapper
end


